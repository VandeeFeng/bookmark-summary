# Why LSP?
- URL: https://egh0bww1.com/posts/2022-12-15-tr-why-lsp/
- Added At: 2025-01-10 09:31:50
- [Link To Text](2025-01-10-why-lsp_raw.md)

## Summary
**摘要**：
本文讨论了语义服务器协议(LSP)的流行及其对编辑器与语言支持的影响。作者通过分析历史背景、语言服务器协议的局限性和背后的技术挑战，重新审视了LSP被大规模采用的原因，并对传统论述进行了质疑。他认为LSP带来的改变并非源于M * N问题的解决，而是通过标准化流程、整合技术和社区力量，实现了一个更为高效、友好的编程环境。通过多种视觉案例，作者详细解释了语言服务器和编辑器之间交互的实际工作流程，并展示了它们如何协同处理代码理解和编辑任务。重点强调了微软在开发VS Code和构建C#与TypeScript语言方面的作用，以及如何采用开源模型来推动标准化协议和跨编辑器语言支持。作者提出对LSP作为接口的重新思考，倡导更多关于语言服务器实现的讨论。此文章解构了LSP概念的流行叙事，探讨了其背后的技术逻辑和实用价值。

**要点总结**：
1. **历史背景与变动背景**：
   - 描述了过去语言和服务之间在提供IDE支持方面存在的差距，强调了特定编辑器对特定编程语言的支持局限。
   - 提出了LSP在简化语言与编辑器集成过程中的作用，并质疑了传统上将LSP流行的解释。

2. **语言服务器协议（LSP）的复杂性与挑战**：
   - 分析了构建语言服务器所面临的高复杂度问题，包括理解语言、处理不完整代码、维护状态及实现高效延迟平衡。
   - 强调了LSP设计时解决的额外复杂性，比如在IDE中进行交互式的、时间敏感的代码处理。

3. **LSP带来的变革**：
   - 阐述LSP如何通过标准化协议和促进标准化实现，降低了语言服务器与编辑器开发的复杂性。
   - 解释了LSP如何促进语言服务复用，提高编辑器对多种编程语言支持的效率。

4. **市场不平衡与生态系统发展**：
   - 指出语言提供者和编辑器市场发展的不平衡，及LSP在推动这种平衡、促进更广泛语言和编辑器支持方面的作用。
   - 探讨了开发者用例中的协议实现多样性和需求，强调了开源社区的重要性。

5. **技术实现与最佳实践**：
   - 分析了针对不同场景的IDE功能（补全、参数信息、内嵌提示等），评估LSP在促进这些功能实现中的效能。
   - 赞扬VS Code平台的架构优势，特别是在与编辑器API和高级IDE功能相关联方面。
   - 强调了将NM问题视为一个互相交织的关系，以及代码重用，强调了避开特定协议中心化的策略。
