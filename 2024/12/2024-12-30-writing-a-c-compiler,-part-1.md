# Writing a C Compiler, Part 1
- URL: https://norasandler.com/2017/11/29/Write-a-Compiler.html
- Added At: 2024-12-30 07:57:34
- [Link To Text](2024-12-30-writing-a-c-compiler,-part-1_raw.md)

## Summary
**摘要**：
本文介绍了编写C编译器的一系列教程，旨在帮助读者深入理解和实现代码编译的基础过程。编写自己的编译器不仅可以提升对AST（抽象语法树）、程序表示和操纵的理解，还可以学习底层计算原理及汇编代码的相关知识。教程会按照逐步添加C语言特性的方式进行，从处理任意整数开始，涉及加法、条件语句、局部变量、函数调用等内容。同时提到已有验证程序库可供测试编译器的正确性。

**要点总结**：
1. **学习目标**：通过编写自己的C编译器，学习包括AST及其操作、汇编编程细节、类型系统和计算机制等方面的知识。掌握一系列小的编程区间，每个区间列出一个新的C语言特性。
   
2. **开发工具与策略**：推荐使用具有类型构造器和模式匹配功能的编程语言（如OCaml、Haskell或Rust），并编写解析器和词法器或利用自动解析和扫描生成器工具（如flex和bison）。介绍了一种称为递归下降解析的解析技术，它通过将语法及其制约应用于多个函数层次来构建抽象语法树（AST）。
   
3. **具体实现**：列表1a显示了一步骤的实现要点：使用一天内返回单个整数的简单程序来构建编译器，并检查返回值是否正确。程序采用单个常量表达式，流程包括将源语言编译为ISC（中间语言）形式的指令，最后汇编为可执行程序。Traversing函数是将抽象语法树转换为AS代码的核心工具。
   
4. **代码生成**：该项描述了从抽象语法树到汇编代码的转换过程，遵循后序遍历顺序确保先行生成变量和常量表达式，后生成依赖这些表达反的操作。
   
5. **整体流程建立**：步骤1b概述了编译器的全面实现，包括读取源代码、解析、代码生成、写入汇编代码文件，以及最终作为可执行文件的转换。包括测试、问题调试机制、以及构建步骤的显式说明。

